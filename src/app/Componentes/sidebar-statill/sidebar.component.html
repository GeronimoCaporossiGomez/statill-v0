<button type="button" class="boton-sidebar-fijo" (click)="toggleSidebar()">
  ☰
</button>

<div *ngIf="isExpanded" class="sidebar sidebariwis">
  <div class="sidebariwis-nav">
    <ul>
      <!-- Sidebar de VENDEDOR -->
      <div class="items" *ngIf="vendedor">
        <li *ngFor="let item of menuItemsVendedor">
          <ng-container *ngIf="activeItem === item.id">
            <span class="active-dot"></span>
          </ng-container>

          <a
            [routerLink]="item.path"
            routerLinkActive="active"
            [class.active]="activeItem === item.id"
            (click)="setActive(item.id)"
          >
            <div class="icon-placeholder">
              <img [src]="item.icon" [alt]="item.text" />
            </div>
            <span>{{ item.text }}</span>
          </a>
        </li>
      </div>

      <!-- Sidebar de COMPRADOR -->
      <div class="items" *ngIf="!vendedor">
        <li *ngFor="let item of menuItemsComprador">
          <ng-container *ngIf="activeItem === item.id">
            <span class="active-dot"></span>
          </ng-container>

          <a
            [routerLink]="item.path"
            routerLinkActive="active"
            [class.active]="activeItem === item.id"
            (click)="setActive(item.id)"
          >
            <div class="icon-placeholder">
              <img [src]="item.icon" [alt]="item.text" />
            </div>
            <span>{{ item.text }}</span>
          </a>
        </li>
      </div>
    </ul>

    <!-- Botón de cambio visible solo si es OWNER o CASHIER -->
    <div class="comprador-btn-container" *ngIf="isOwnerOrCashier">
      <button class="comprador-btn" (click)="toggleVendedor()">
        <img
          [src]="
            vendedor
              ? 'assets/img/vendedor-statill.png'
              : 'assets/img/vendedor-statill.png'
          "
          [alt]="vendedor ? 'Cambiar a Comprador' : 'Cambiar a Vendedor'"
          class="btn-icon"
        />
        <span>{{ vendedor ? 'Comprador' : 'Vendedor' }}</span>
      </button>
    </div>
  </div>
</div>

<div *ngIf="showForm" class="crear-producto-form">
  <h2>{{ title }}</h2>
  
  <div *ngIf="errorMessage" class="message" 
       [ngClass]="{'success': errorMessage.includes('exitosamente'), 'error': !errorMessage.includes('exitosamente')}">
    {{ errorMessage }}
  </div>

  <div class="form-grid">
    <div class="form-group">
      <label for="name">Nombre del producto *</label>
      <input 
        type="text" 
        id="name"
        [(ngModel)]="producto.name" 
        placeholder="Ingresa el nombre del producto"
        class="form-input"
        required>
    </div>

    <div class="form-group">
      <label for="brand">Marca</label>
      <input 
        type="text" 
        id="brand"
        [(ngModel)]="producto.brand" 
        placeholder="Marca del producto"
        class="form-input">
    </div>

    <div class="form-group">
      <label for="price">Precio *</label>
      <input 
        type="number" 
        id="price"
        [(ngModel)]="producto.price" 
        placeholder="0.00"
        class="form-input"
        min="0"
        step="0.01"
        required>
    </div>

    <div class="form-group">
      <label for="points_price">Precio en puntos</label>
      <input 
        type="number" 
        id="points_price"
        [(ngModel)]="producto.points_price" 
        placeholder="1"
        class="form-input"
        min="0">
    </div>

    <div class="form-group">
      <label for="quantity">Cantidad</label>
      <input 
        type="number" 
        id="quantity"
        [(ngModel)]="producto.quantity" 
        placeholder="0"
        class="form-input"
        min="0">
    </div>

    <div class="form-group">
      <label for="type">Categoría</label>
      <select 
        id="type"
        [(ngModel)]="producto.type" 
        class="form-select">
        <option *ngFor="let tipo of tiposProducto" [value]="tipo.id">
          {{ tipo.name }}
        </option>
      </select>
    </div>

    <div class="form-group">
      <label for="barcode">Código de barras</label>
      <input 
        type="text" 
        id="barcode"
        [(ngModel)]="producto.barcode" 
        placeholder="Código de barras"
        class="form-input">
    </div>

    <div class="form-group">
      <label for="store_id">ID de tienda</label>
      <input 
        type="number" 
        id="store_id"
        [(ngModel)]="producto.store_id" 
        placeholder="1"
        class="form-input"
        min="1">
    </div>

    <div class="form-group full-width">
      <label for="desc">Descripción</label>
      <textarea 
        id="desc"
        [(ngModel)]="producto.desc" 
        placeholder="Descripción del producto"
        class="form-textarea"
        rows="3"></textarea>
    </div>

    <div class="form-group">
      <label class="checkbox-label">
        <input 
          type="checkbox" 
          [(ngModel)]="producto.hidden">
        Producto oculto
      </label>
    </div>
  </div>

  <div class="form-actions">
    <button (click)="submitForm()" [disabled]="isLoading" class="btn-create">
      {{ isLoading ? 'Procesando...' : submitButtonText }}
    </button>
    <button (click)="cancelForm()" class="btn-cancel">
      Cancelar
    </button>
    <button (click)="resetForm()" class="btn-reset">
      Limpiar
    </button>
  </div>
</div>
